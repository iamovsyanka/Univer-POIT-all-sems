--1. ???????? ?????? ???? ?????? ????????? ???????????
select tablespace_name, file_name from DBA_DATA_FILES; 
select tablespace_name, file_name from DBA_TEMP_FILES;

--2. ???????? ????????? ???????????? ? ?????? XXX_QDATA (10m). 
drop tablespace KAO_QDATA including contents and datafiles;

create tablespace KAO_QDATA  
  datafile 'C:\app\Tablespaces\KAO_QDATA.dbf'
  size 10M
offline; 

alter tablespace KAO_QDATA online;

alter user KAO quota 2 m on KAO_QDATA;

create table KAO_T1(x number(20) primary key,
                    y number(20))
                    tablespace KAO_QDATA;


insert into kao_t1 values(1, 4);
insert into kao_t1 values(2, 5);
insert into kao_t1 values(3, 6);
commit;

--3. ???????? ?????? ????????? ?????????? ????????????  XXX_QDATA. 
select * from dba_segments where tablespace_name = 'KAO_QDATA';
select * from dba_segments;

--4. ??????? (DROP) ??????? XXX_T1. 
drop table KAO_T1;
purge table kao_t1;

--???????? ?????? ????????? ?????????? ????????????  XXX_QDATA. ?????????? ??????? ??????? XXX_T1. 
select * from dba_segments where tablespace_name = 'KAO_QDATA';

--????????? SELECT-?????? ? ????????????? USER_RECYCLEBIN, ???????? ?????????.
select * from user_recyclebin;

--5. ???????????? (FLASHBACK) ????????? ???????. 
flashback table KAO_T1 to before drop;

select * from KAO_T1;
--6. ????????? PL/SQL-??????, ??????????? ??????? XXX_T1 ??????? (10000 ?????). 
begin
  for x in 4..10004
  loop
    insert into kao_t1 values(x, x);
  end loop;
  commit;
end;

--7. ?????????? ??????? ? ???????? ??????? XXX_T1 ?????????, ?? ?????? ? ?????? ? ??????. ???????? ???????? ???? ?????????. 
select extent_id, blocks, bytes from DBA_EXTENTS where SEGMENT_NAME = 'KAO_T1';

--8. ??????? ????????? ???????????? XXX_QDATA ? ??? ????. 
drop tablespace KAO_QDATA including contents and datafiles;

--9. ???????? ???????? ???? ????? ???????? ???????. ?????????? ??????? ?????? ???????? ???????.
SELECT * FROM V$LOG;

--10. ???????? ???????? ?????? ???? ???????? ??????? ????????.
SELECT * FROM V$LOGFILE;

--11. ? ??????? ???????????? ???????? ??????? ???????? ?????? ???? ????????????. ???????? ????????? ????? ? ?????? ?????? ??????? ???????????? (??? ??????????? ??? ?????????? ????????? ???????).
ALTER SYSTEM SWITCH LOGFILE;

--12. ???????? ?????????????? ?????? ???????? ??????? ? ????? ??????? ???????. ????????? ? ??????? ?????? ? ??????, ? ????? ? ????????????????? ?????? (?????????????). ?????????? ?????????????????? SCN. 
alter database add logfile group 4 'C:\app\ovsyanka\oradata\orcl\REDO04.LOG' size 50 m blocksize 512;
alter database add logfile member 'C:\app\ovsyanka\oradata\orcl\REDO041.LOG'  to group 4;
alter database add logfile member 'C:\app\ovsyanka\oradata\orcl\REDO042.LOG'  to group 4;

ALTER SYSTEM SWITCH LOGFILE;
SELECT * FROM V$LOG;

--13. ??????? ????????? ?????? ???????? ???????. ??????? ????????? ???? ????? ???????? ?? ???????.
alter database drop logfile member 'C:\app\ovsyanka\oradata\orcl\REDO042.LOG';
alter database drop logfile member 'C:\app\ovsyanka\oradata\orcl\REDO041.LOG';
alter database drop logfile group 4; 

SELECT * FROM V$LOG;

--14. ??????????, ??????????? ??? ??? ????????????? ???????? ??????? 
SELECT NAME, LOG_MODE FROM V$DATABASE;
SELECT INSTANCE_NAME, ARCHIVER, ACTIVE_STATE FROM V$INSTANCE;

--15.
SELECT * FROM V$LOG;
SELECT * FROM V$DATABASE;

--16.
--sql plus -> connect /as sysdba
--shutdown immediate;
--startup mount;
--alter database archivelog;
--alter database open;

--17. ????????????? ???????? ???????? ????. 
alter system switch logfile;
select * from v$archived_log;

--18. ????????? ?????????????.
SELECT * FROM V$LOG;
SELECT * FROM V$DATABASE;

--19. ???????? ?????? ??????????? ??????.
select * from v$controlfile;

--20. ???????? ? ?????????? ?????????? ???????????? ?????.
show parameter control;
select * from v$controlfile_record_section;

--21. ?????????? ?????????????? ????? ?????????? ????????. 
--C:\app\ovsyanka\product\12.1.0\dbhome_1\database

--22. ??????????? PFILE ? ?????? XXX_PFILE.ORA. 
create pfile = 'kao_pfile.ora.' from spfile;
--C:\app\ovsyanka\product\12.1.0\dbhome_1\database

--23. ?????????? ?????????????? ????? ??????? ????????
select * from v$pwfile_users;

--24. ???????? ???????? ??????????? ??? ?????? ????????? ? ???????????. 
select * from v$diag_info;

show parameter remote_login_passwordfile;

--25. EX. ??????? ? ?????????? ?????????? ????????? ?????? ???????? (LOG.XML), 
--??????? ? ??? ??????? ???????????? ???????? ??????? ?? ?????????.